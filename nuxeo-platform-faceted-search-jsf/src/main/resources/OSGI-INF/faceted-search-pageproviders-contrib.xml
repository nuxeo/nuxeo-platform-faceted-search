<?xml version="1.0"?>
<component name="org.nuxeo.ecm.platform.faceted.search.jsf.pageproviders">

  <extension target="org.nuxeo.ecm.platform.query.api.PageProviderService"
    point="providers">

      <coreQueryPageProvider name="USER_SAVED_SEARCHES">
        <property name="maxResults">DEFAULT_NAVIGATION_RESULTS</property>
        <pattern>
          SELECT * FROM FacetedSearch WHERE dc:creator = ? AND
          ecm:currentLifeCycleState != 'deleted'
        </pattern>
        <sort column="dc:title" ascending="true" />
      </coreQueryPageProvider>

      <coreQueryPageProvider name="OTHER_USERS_SAVED_SEARCHES">
        <property name="maxResults">DEFAULT_NAVIGATION_RESULTS</property>
        <pattern>
          SELECT * FROM FacetedSearch WHERE dc:creator != ? AND
          ecm:currentLifeCycleState != 'deleted'
        </pattern>
        <sort column="dc:title" ascending="true" />
      </coreQueryPageProvider>

  </extension>

</component>
